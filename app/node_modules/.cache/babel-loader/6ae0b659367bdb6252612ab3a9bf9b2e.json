{"ast":null,"code":"import _JSON$stringify from \"@babel/runtime-corejs2/core-js/json/stringify\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nvar _jsxFileName = \"/app/components/FoodOrderDescriptionList.js\";\nimport React, { Component } from \"react\";\nimport DataTable from 'react-data-table-component';\nimport ENV from \"../config.js\";\n\nvar FoodOrderDescriptionList =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(FoodOrderDescriptionList, _Component);\n\n  function FoodOrderDescriptionList(props) {\n    var _this;\n\n    _classCallCheck(this, FoodOrderDescriptionList);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(FoodOrderDescriptionList).call(this, props));\n    _this.state = {\n      foodOrderDescriptionList: [],\n      foodOrderDescription: [],\n      description: {},\n      columns: [{\n        name: 'Producto',\n        selector: 'product_name',\n        sortable: true\n      }, {\n        name: 'M/Nombre',\n        selector: 'dining_table_name',\n        sortable: true\n      }, {\n        name: 'M/Numero',\n        selector: 'dining_table_number',\n        sortable: true\n      }, {\n        name: 'Tiempo',\n        selector: 'created_at',\n        sortable: true\n      }, {\n        name: 'Acciones',\n        selector: 'actions',\n        ignoreRowClick: true,\n        cell: function cell(row) {\n          return React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 39\n            },\n            __self: this\n          }, React.createElement(\"button\", {\n            className: \"btn btn-primary py-1 px-2 btn-action\",\n            onClick: _this.confirmFoodOrderDescriptionMaked.bind(_assertThisInitialized(_this), row.actions),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 40\n            },\n            __self: this\n          }, React.createElement(\"span\", {\n            className: \"icon icon-check\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 41\n            },\n            __self: this\n          })));\n        }\n      }]\n    };\n    _this.getFoodOrderDescriptionList = _this.getFoodOrderDescriptionList.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(FoodOrderDescriptionList, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.getFoodOrderDescriptionList();\n      this.interval = setInterval(function () {\n        return _this2.getFoodOrderDescriptionList();\n      }, 20000);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      clearInterval(this.interval);\n    }\n  }, {\n    key: \"confirmFoodOrderDescriptionMaked\",\n    value: function confirmFoodOrderDescriptionMaked(id) {\n      this.state.description = {};\n      var description = this.state.foodOrderDescription.find(function (item) {\n        return item.id_food_order_description == id;\n      });\n      this.setState({\n        description: description\n      });\n      $(\"#modalFoodOrderDescriptionMaked\").modal(\"show\");\n    }\n  }, {\n    key: \"handleEventClickFoodOrderMaked\",\n    value: function handleEventClickFoodOrderMaked(id) {\n      var _this3 = this;\n\n      fetch(\"\".concat(ENV.API_ROUTE, \"update\"), {\n        method: \"post\",\n        cors: \"cors\",\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: _JSON$stringify({\n          table: \"food_order_descriptions\",\n          id: id,\n          columns: \"status\",\n          values: \"2\",\n          updated_at: true\n        })\n      }).then(function (response) {\n        return response.json();\n      }).then(function (res) {\n        if (res.status != 200) return \"Error\";\n\n        _this3.getFoodOrderDescriptionList();\n\n        $(\"#modalFoodOrderDescriptionMaked\").modal(\"hide\");\n      });\n    }\n  }, {\n    key: \"getFoodOrderDescriptionList\",\n    value: function getFoodOrderDescriptionList(event) {\n      var _this4 = this;\n\n      fetch(\"\".concat(ENV.API_ROUTE, \"get\"), {\n        method: \"post\",\n        cors: \"cors\",\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: _JSON$stringify({\n          table: \"food_order_descriptions fod\",\n          columns: \"\\n                    fod.id id_food_order_description,\\n                    fod.product_name product_name,\\n                    dt.name dining_table_name,\\n                    dt.number dining_table_number,\\n                    TIMEDIFF(NOW(), fod.created_at) created_at\",\n          join: \"\\n                    INNER JOIN food_orders fo ON fo.id = fod.id_food_order\\n                    INNER JOIN dining_tables dt ON dt.id = fo.id_dining_table\\n                    \",\n          where: \"fod.status = 1 AND fo.status = 1\"\n        })\n      }).then(function (response) {\n        return response.json();\n      }).then(function (res) {\n        if (res.status != 200) return \"Error\";\n        var foodOrderDescriptionList = res.data.map(function (item) {\n          return {\n            product_name: item.product_name,\n            dining_table_number: item.dining_table_number,\n            dining_table_name: item.dining_table_name,\n            created_at: item.created_at,\n            actions: item.id_food_order_description\n          };\n        });\n\n        _this4.setState({\n          foodOrderDescription: res.data\n        });\n\n        _this4.setState({\n          foodOrderDescriptionList: foodOrderDescriptionList\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }, React.createElement(DataTable, {\n        noHeader: true //pagination={true}\n        ,\n        columns: this.state.columns,\n        data: this.state.foodOrderDescriptionList,\n        className: \"table\",\n        noD15ataComponent: \"No se encontraron mesas\",\n        defaultSortField: \"created_at\",\n        defaultSortAsc: false,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      })))), React.createElement(\"div\", {\n        className: \"modal\",\n        id: \"modalFoodOrderDescriptionMaked\",\n        tabIndex: \"-1\",\n        role: \"dialog\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"modal-dialog\",\n        role: \"document\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"modal-content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"modal-header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        className: \"modal-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      }, \"\\xBFDesea pasar a realizdo el producto?\"), React.createElement(\"button\", {\n        type: \"button\",\n        className: \"close\",\n        \"data-dismiss\": \"modal\",\n        \"aria-label\": \"Close\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        \"aria-hidden\": \"true\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }, \"\\xD7\"))), React.createElement(\"div\", {\n        className: \"modal-body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        className: \"title-brackground-white text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168\n        },\n        __self: this\n      }, this.state.description.product_name), React.createElement(\"h1\", {\n        className: \"title-brackground-white text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }, \"Mesa: \", this.state.description.dining_table_number), React.createElement(\"h1\", {\n        className: \"title-brackground-white text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      }, this.state.description.dining_table_name)), React.createElement(\"div\", {\n        className: \"modal-footer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        type: \"button\",\n        className: \"ml-2 btn btn-white btn-outline-white\",\n        \"data-dismiss\": \"modal\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173\n        },\n        __self: this\n      }, \"Cerrar\"), React.createElement(\"button\", {\n        type: \"button\",\n        className: \"ml-2  btn btn-primary\",\n        onClick: this.handleEventClickFoodOrderMaked.bind(this, this.state.description.id_food_order_description),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        },\n        __self: this\n      }, \"Confirmar\"))))));\n    }\n  }]);\n\n  return FoodOrderDescriptionList;\n}(Component);\n\nexport default FoodOrderDescriptionList;","map":{"version":3,"sources":["/app/components/FoodOrderDescriptionList.js"],"names":["React","Component","DataTable","ENV","FoodOrderDescriptionList","props","state","foodOrderDescriptionList","foodOrderDescription","description","columns","name","selector","sortable","ignoreRowClick","cell","row","confirmFoodOrderDescriptionMaked","bind","actions","getFoodOrderDescriptionList","interval","setInterval","clearInterval","id","find","item","id_food_order_description","setState","$","modal","fetch","API_ROUTE","method","cors","headers","body","table","values","updated_at","then","response","json","res","status","event","join","where","data","map","product_name","dining_table_number","dining_table_name","created_at","handleEventClickFoodOrderMaked"],"mappings":"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","sourcesContent":["import React, {Component} from \"react\"\nimport DataTable from 'react-data-table-component'\nimport ENV from \"../config.js\"\n\nclass FoodOrderDescriptionList extends Component {\n    constructor(props){\n        super(props)\n        this.state = {\n            foodOrderDescriptionList: [],\n            foodOrderDescription: [],\n            description: {},\n            columns: [\n                {\n                  name: 'Producto',\n                  selector: 'product_name',\n                  sortable: true,\n                },\n                {\n                  name: 'M/Nombre',\n                  selector: 'dining_table_name',\n                  sortable: true,\n                },\n                {\n                  name: 'M/Numero',\n                  selector: 'dining_table_number',\n                  sortable: true\n                },\n                {\n                  name: 'Tiempo',\n                  selector: 'created_at',\n                  sortable: true\n                },\n                {\n                  name: 'Acciones',\n                  selector: 'actions',\n                  ignoreRowClick: true,\n                  cell: row => {\n                      return(\n                          <div>\n                              <button className=\"btn btn-primary py-1 px-2 btn-action\" onClick={this.confirmFoodOrderDescriptionMaked.bind(this, row.actions)}>\n                                  <span className=\"icon icon-check\"></span>\n                              </button>\n                          </div>\n                      )\n                  }\n\n                },\n            ]\n        }\n        this.getFoodOrderDescriptionList = this.getFoodOrderDescriptionList.bind(this)\n    }\n\n    componentDidMount() {\n        this.getFoodOrderDescriptionList()\n        this.interval = setInterval(() => this.getFoodOrderDescriptionList(), 20000)\n    }\n\n    componentWillUnmount() {\n        clearInterval(this.interval)\n    }\n\n    confirmFoodOrderDescriptionMaked(id) {\n        this.state.description = {}\n        let description = this.state.foodOrderDescription.find(\n            item => {return item.id_food_order_description == id}\n        )\n        this.setState({description: description})\n        $(\"#modalFoodOrderDescriptionMaked\").modal(\"show\")\n    }\n\n    handleEventClickFoodOrderMaked(id) {\n        fetch(`${ENV.API_ROUTE}update`, {\n            method: \"post\",\n            cors: \"cors\",\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                table: \"food_order_descriptions\",\n                id: id,\n                columns: \"status\",\n                values: `2`,\n                updated_at: true\n            })\n        })\n        .then(response => {return response.json()})\n        .then(res => {\n            if (res.status != 200)\n                return \"Error\"\n            this.getFoodOrderDescriptionList()\n            $(\"#modalFoodOrderDescriptionMaked\").modal(\"hide\")\n        })\n    }\n\n    getFoodOrderDescriptionList(event) {\n        fetch(`${ENV.API_ROUTE}get`, {\n            method: \"post\",\n            cors: \"cors\",\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                table: \"food_order_descriptions fod\",\n                columns:`\n                    fod.id id_food_order_description,\n                    fod.product_name product_name,\n                    dt.name dining_table_name,\n                    dt.number dining_table_number,\n                    TIMEDIFF(NOW(), fod.created_at) created_at`,\n                join: `\n                    INNER JOIN food_orders fo ON fo.id = fod.id_food_order\n                    INNER JOIN dining_tables dt ON dt.id = fo.id_dining_table\n                    `,\n                where: \"fod.status = 1 AND fo.status = 1\"\n            })\n        })\n        .then(response => {return response.json()})\n        .then(res => {\n            if (res.status != 200)\n                return \"Error\"\n\n                let foodOrderDescriptionList = res.data.map(item => {\n                    return({\n                        product_name: item.product_name,\n                        dining_table_number: item.dining_table_number,\n                        dining_table_name: item.dining_table_name,\n                        created_at: item.created_at,\n                        actions: item.id_food_order_description\n                    })\n                })\n                this.setState({foodOrderDescription: res.data})\n                this.setState({foodOrderDescriptionList: foodOrderDescriptionList})\n\n        })\n    }\n\n    render() {\n        return (\n            <React.Fragment>\n                <div className=\"container\">\n                    <div className=\"row\">\n                        <div className=\"col-12\">\n                            <DataTable\n                                noHeader={true}\n                                //pagination={true}\n                                columns={this.state.columns}\n                                data={this.state.foodOrderDescriptionList}\n                                className=\"table\"\n                                noD15ataComponent=\"No se encontraron mesas\"\n                                defaultSortField=\"created_at\"\n                                defaultSortAsc={false}\n                            />\n                        </div>\n                    </div>\n                </div>\n                <div className=\"modal\" id=\"modalFoodOrderDescriptionMaked\" tabIndex=\"-1\" role=\"dialog\">\n                    <div className=\"modal-dialog\" role=\"document\">\n                        <div className=\"modal-content\">\n                            <div className=\"modal-header\">\n                                <h5 className=\"modal-title\">¿Desea pasar a realizdo el producto?</h5>\n                                <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                                    <span aria-hidden=\"true\">&times;</span>\n                                </button>\n                            </div>\n                            <div className=\"modal-body\">\n                                <h1 className=\"title-brackground-white text-center\">{this.state.description.product_name}</h1>\n                                <h1 className=\"title-brackground-white text-center\">Mesa: {this.state.description.dining_table_number}</h1>\n                                <h1 className=\"title-brackground-white text-center\">{this.state.description.dining_table_name}</h1>\n                            </div>\n                            <div className=\"modal-footer\">\n                                <button type=\"button\" className=\"ml-2 btn btn-white btn-outline-white\" data-dismiss=\"modal\">Cerrar</button>\n                                <button type=\"button\" className=\"ml-2  btn btn-primary\"\n                                    onClick={this.handleEventClickFoodOrderMaked.bind(this, this.state.description.id_food_order_description)}\n                                >\n                                    Confirmar\n                                </button>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </React.Fragment>\n        )\n    }\n}\n\nexport default FoodOrderDescriptionList;\n"]},"metadata":{},"sourceType":"module"}