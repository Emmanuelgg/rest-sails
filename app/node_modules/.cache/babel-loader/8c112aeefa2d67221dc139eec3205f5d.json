{"ast":null,"code":"import _JSON$stringify from \"@babel/runtime-corejs2/core-js/json/stringify\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nvar _jsxFileName = \"/app/components/ManageFoodOrder.js\";\nimport React, { Component } from \"react\";\nimport DataTable from 'react-data-table-component';\nimport ENV from \"../config.js\";\n\nvar ManageFoodOrder =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ManageFoodOrder, _Component);\n\n  function ManageFoodOrder(props) {\n    var _this;\n\n    _classCallCheck(this, ManageFoodOrder);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ManageFoodOrder).call(this, props));\n    _this.state = {\n      productGrid: [],\n      foodOrder: {},\n      foodOrderDesciption: [],\n      columns: [{\n        name: 'Nombre',\n        selector: 'name',\n        sortable: true\n      }, {\n        name: 'Cantidad',\n        selector: 'quantity',\n        sortable: true\n      }, {\n        name: 'Unitario',\n        selector: 'unit',\n        sortable: true\n      }, {\n        name: 'Importe',\n        selector: 'import',\n        sortable: true\n      }, {\n        name: 'Acciones',\n        selector: 'actions',\n        ignoreRowClick: true,\n        cell: function cell(row) {\n          return React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 39\n            },\n            __self: this\n          }, React.createElement(\"button\", {\n            className: \"btn btn-primary py-1 px-2 btn-action\",\n            onClick: _this.handleEventClickSubtractFoodOrderDescription.bind(_assertThisInitialized(_this), row.actions),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 40\n            },\n            __self: this\n          }, React.createElement(\"span\", {\n            className: \"icon icon-minus\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 41\n            },\n            __self: this\n          })), React.createElement(\"button\", {\n            className: \"btn btn-primary py-1 px-2 btn-action\",\n            onClick: _this.handleEventClickDeleteFoodOrderDescription.bind(_assertThisInitialized(_this), row.actions),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 43\n            },\n            __self: this\n          }, React.createElement(\"span\", {\n            className: \"icon icon-trash\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 44\n            },\n            __self: this\n          })));\n        }\n      }]\n    };\n    _this.getProductGrid = _this.getProductGrid.bind(_assertThisInitialized(_this));\n    _this.getDiningTableOrder = _this.getDiningTableOrder.bind(_assertThisInitialized(_this));\n    _this.getFoodOrderDescription = _this.getFoodOrderDescription.bind(_assertThisInitialized(_this));\n    _this.confirmCloseFoodOrder = _this.confirmCloseFoodOrder.bind(_assertThisInitialized(_this));\n    _this.closeFoodOrder = _this.closeFoodOrder.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(ManageFoodOrder, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {}\n  }, {\n    key: \"handleEventClickSubtractFoodOrderDescription\",\n    value: function handleEventClickSubtractFoodOrderDescription(values) {\n      var _this2 = this;\n\n      fetch(\"\".concat(ENV.API_ROUTE, \"delete\"), {\n        method: \"post\",\n        cors: \"cors\",\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: _JSON$stringify({\n          table: \"food_order_descriptions\",\n          where: \"food_order_id = \".concat(values.idFoodOrder, \" AND product_id = \").concat(values.idProduct),\n          orderBy: \"id DESC\",\n          limit: \"1\"\n        })\n      }).then(function (response) {\n        return response.json();\n      }).then(function (res) {\n        if (res.status != 200) return \"Error\";\n\n        _this2.getFoodOrderDescription();\n      });\n    }\n  }, {\n    key: \"handleEventClickDeleteFoodOrderDescription\",\n    value: function handleEventClickDeleteFoodOrderDescription(values) {\n      var _this3 = this;\n\n      fetch(\"\".concat(ENV.API_ROUTE, \"delete\"), {\n        method: \"post\",\n        cors: \"cors\",\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: _JSON$stringify({\n          table: \"food_order_descriptions\",\n          where: \"food_order_id = \".concat(values.idFoodOrder, \" AND product_id = \").concat(values.idProduct)\n        })\n      }).then(function (response) {\n        return response.json();\n      }).then(function (res) {\n        if (res.status != 200) return \"Error\";\n\n        _this3.getFoodOrderDescription();\n      });\n    }\n  }, {\n    key: \"resetFoodOrder\",\n    value: function resetFoodOrder() {\n      this.setState({\n        foodOrder: {},\n        foodOrderDesciption: []\n      });\n    }\n  }, {\n    key: \"getFoodOrderDescription\",\n    value: function getFoodOrderDescription() {\n      var _this4 = this;\n\n      this.state.foodOrder.total = 0;\n      fetch(\"\".concat(ENV.API_ROUTE, \"get\"), {\n        method: \"post\",\n        cors: \"cors\",\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: _JSON$stringify({\n          table: \"food_order_descriptions\",\n          columns: \"id_product, product_name, SUM(quantity) quantity, price, SUM(total) total\",\n          where: \"id_food_order = \".concat(this.state.foodOrder.id_food_order),\n          groupBy: \"id_product, product_name, price\"\n        })\n      }).then(function (response) {\n        return response.json();\n      }).then(function (res) {\n        if (res.status != 200) return \"Error\";\n        var foodOrderDesciption = res.data.map(function (item) {\n          _this4.state.foodOrder.total += item.total;\n          return {\n            name: item.product_name,\n            quantity: item.quantity,\n            unit: item.price,\n            import: item.total,\n            actions: {\n              idFoodOrder: _this4.state.foodOrder.id_food_order,\n              idProduct: item.id_product\n            }\n          };\n        });\n\n        _this4.setState({\n          foodOrderDesciption: foodOrderDesciption\n        });\n      });\n    }\n  }, {\n    key: \"getDiningTableOrder\",\n    value: function getDiningTableOrder(idDiningTable) {\n      var _this5 = this;\n\n      //event.preventDefault()\n      this.resetFoodOrder();\n      fetch(\"\".concat(ENV.API_ROUTE, \"get/foodOrder\"), {\n        method: \"post\",\n        cors: \"cors\",\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: _JSON$stringify({\n          id: idDiningTable\n        })\n      }).then(function (response) {\n        return response.json();\n      }).then(function (res) {\n        if (res.status != 200) return \"Error\";\n        var foodOrder = res.data.food_order[0];\n\n        _this5.setState({\n          foodOrder: foodOrder\n        });\n\n        _this5.getFoodOrderDescription();\n      });\n    }\n  }, {\n    key: \"addProductToFoodOrder\",\n    value: function addProductToFoodOrder(id_product) {\n      var _this6 = this;\n\n      fetch(\"\".concat(ENV.API_ROUTE, \"add/foodOrder\"), {\n        method: \"post\",\n        cors: \"cors\",\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: _JSON$stringify({\n          id: this.state.foodOrder.id_food_order,\n          id_product: id_product\n        })\n      }).then(function (response) {\n        return response.json();\n      }).then(function (res) {\n        if (res.status != 200) return \"Error\";\n\n        _this6.getFoodOrderDescription();\n      });\n    }\n  }, {\n    key: \"getProductGrid\",\n    value: function getProductGrid() {\n      var _this7 = this;\n\n      //event.preventDefault()\n      fetch(\"\".concat(ENV.API_ROUTE, \"get\"), {\n        method: \"post\",\n        cors: \"cors\",\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: _JSON$stringify({\n          table: \"product\",\n          where: \"status = 1\"\n        })\n      }).then(function (response) {\n        return response.json();\n      }).then(function (res) {\n        if (res.status != 200) return \"Error\";\n        var productGrid = res.data.map(function (item) {\n          return React.createElement(\"div\", {\n            key: \"product_\" + item.id_product,\n            className: \"col-12 col-sm-6 col-md-4 text-center container-grid\",\n            onClick: _this7.addProductToFoodOrder.bind(_this7, item.id_product),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 216\n            },\n            __self: this\n          }, React.createElement(\"img\", {\n            src: ENV.API_FILES_ROUTE + item.image_url,\n            className: \"rounded img-product\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 217\n            },\n            __self: this\n          }), React.createElement(\"br\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 218\n            },\n            __self: this\n          }), React.createElement(\"span\", {\n            className: \"span-table-number\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 219\n            },\n            __self: this\n          }, React.createElement(\"b\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 219\n            },\n            __self: this\n          }, item.name)));\n        });\n\n        _this7.setState({\n          productGrid: productGrid\n        });\n\n        $(\"#modalManageFoodOrder\").modal(\"show\");\n      });\n    }\n  }, {\n    key: \"confirmCloseFoodOrder\",\n    value: function confirmCloseFoodOrder() {\n      $(\"#modalCloseFoodOrder\").modal(\"show\");\n    }\n  }, {\n    key: \"closeFoodOrder\",\n    value: function closeFoodOrder() {\n      var _this8 = this;\n\n      fetch(\"\".concat(ENV.API_ROUTE, \"update\"), {\n        method: \"post\",\n        cors: \"cors\",\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: _JSON$stringify({\n          table: \"food_order\",\n          id: this.state.foodOrder.id_food_order,\n          columns: \"total,status\",\n          values: \"\".concat(this.state.foodOrder.total, \",2\"),\n          update_at: true\n        })\n      }).then(function (response) {\n        return response.json();\n      }).then(function (res) {\n        if (res.status != 200) return \"Error\";\n\n        _this8.getFoodOrderDescription();\n\n        $(\"#modalCloseFoodOrder\").modal(\"hide\");\n        $(\"#modalManageFoodOrder\").modal(\"hide\");\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 260\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"modal fade\",\n        id: \"modalManageFoodOrder\",\n        tabIndex: \"-1\",\n        role: \"dialog\",\n        \"aria-labelledby\": \"modalManageFoodOrder\",\n        \"aria-hidden\": \"true\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 261\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"modal-dialog modal-xl\",\n        role: \"document\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 262\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"modal-content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 263\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"modal-header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 264\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-6 col-md-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 265\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        className: \"modal-title\",\n        id: \"exampleModalLongTitle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 266\n        },\n        __self: this\n      }, \"Mesa \", this.state.foodOrder.number, \", Orden: #\", this.state.foodOrder.id_food_order)), React.createElement(\"div\", {\n        className: \"col-5 col-md-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 270\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        className: \"modal-title text-right\",\n        id: \"exampleModalLongTitle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 271\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 272\n        },\n        __self: this\n      }, \"Total: $\", this.state.foodOrder.total))), React.createElement(\"button\", {\n        type: \"button\",\n        className: \"close\",\n        \"data-dismiss\": \"modal\",\n        \"aria-label\": \"Close\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 275\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        \"aria-hidden\": \"true\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 276\n        },\n        __self: this\n      }, \"\\xD7\"))), React.createElement(\"div\", {\n        className: \"modal-body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 279\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 280\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-12 text-right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 281\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        type: \"button\",\n        className: \"ml-2  btn btn-primary btn-pay\",\n        onClick: this.confirmCloseFoodOrder,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 282\n        },\n        __self: this\n      }, \"Cobrar\")), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 286\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 287\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"col-12 col-md-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 288\n        },\n        __self: this\n      }, React.createElement(DataTable, {\n        noHeader: true,\n        pagination: true,\n        columns: this.state.columns,\n        data: this.state.foodOrderDesciption,\n        className: \"table\",\n        noDataComponent: \"No se encontraron productos\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 289\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"product-grid col-12 col-md-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 298\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 299\n        },\n        __self: this\n      }, this.state.productGrid)))), React.createElement(\"div\", {\n        className: \"modal-footer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 306\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        type: \"button\",\n        className: \"ml-2 btn btn-white btn-outline-white\",\n        \"data-dismiss\": \"modal\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 307\n        },\n        __self: this\n      }, \"Cerrar\"), React.createElement(\"button\", {\n        type: \"button\",\n        className: \"ml-2  btn btn-primary btn-pay\",\n        onClick: this.confirmCloseFoodOrder,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 308\n        },\n        __self: this\n      }, \"Cobrar\"))))), React.createElement(\"div\", {\n        className: \"modal\",\n        id: \"modalCloseFoodOrder\",\n        tabIndex: \"-1\",\n        role: \"dialog\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 315\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"modal-dialog\",\n        role: \"document\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 316\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"modal-content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 317\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"modal-header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 318\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        className: \"modal-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 319\n        },\n        __self: this\n      }, \"\\xBFDesea cerrar la Orden: #\", this.state.foodOrder.id_food_order, \"?\"), React.createElement(\"button\", {\n        type: \"button\",\n        className: \"close\",\n        \"data-dismiss\": \"modal\",\n        \"aria-label\": \"Close\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 320\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        \"aria-hidden\": \"true\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 321\n        },\n        __self: this\n      }, \"\\xD7\"))), React.createElement(\"div\", {\n        className: \"modal-body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 324\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        className: \"title-brackground-white text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 325\n        },\n        __self: this\n      }, \"Total de orden:\"), React.createElement(\"h1\", {\n        className: \"title-brackground-white text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 326\n        },\n        __self: this\n      }, \"$\", this.state.foodOrder.total)), React.createElement(\"div\", {\n        className: \"modal-footer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 328\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        type: \"button\",\n        className: \"ml-2 btn btn-white btn-outline-white\",\n        \"data-dismiss\": \"modal\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 329\n        },\n        __self: this\n      }, \"Cerrar\"), React.createElement(\"button\", {\n        type: \"button\",\n        className: \"ml-2  btn btn-primary\",\n        onClick: this.closeFoodOrder,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 330\n        },\n        __self: this\n      }, \"Confirmar\"))))));\n    }\n  }]);\n\n  return ManageFoodOrder;\n}(Component);\n\nexport default ManageFoodOrder;","map":{"version":3,"sources":["/app/components/ManageFoodOrder.js"],"names":["React","Component","DataTable","ENV","ManageFoodOrder","props","state","productGrid","foodOrder","foodOrderDesciption","columns","name","selector","sortable","ignoreRowClick","cell","row","handleEventClickSubtractFoodOrderDescription","bind","actions","handleEventClickDeleteFoodOrderDescription","getProductGrid","getDiningTableOrder","getFoodOrderDescription","confirmCloseFoodOrder","closeFoodOrder","values","fetch","API_ROUTE","method","cors","headers","body","table","where","idFoodOrder","idProduct","orderBy","limit","then","response","json","res","status","setState","total","id_food_order","groupBy","data","map","item","product_name","quantity","unit","price","import","id_product","idDiningTable","resetFoodOrder","id","food_order","addProductToFoodOrder","API_FILES_ROUTE","image_url","$","modal","update_at","number"],"mappings":"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","sourcesContent":["import React, {Component} from \"react\"\nimport DataTable from 'react-data-table-component';\nimport ENV from \"../config.js\"\n\nclass ManageFoodOrder extends Component {\n    constructor(props){\n        super(props)\n        this.state = {\n            productGrid: [],\n            foodOrder: {},\n            foodOrderDesciption: [],\n            columns: [\n              {\n                name: 'Nombre',\n                selector: 'name',\n                sortable: true\n              },\n              {\n                name: 'Cantidad',\n                selector: 'quantity',\n                sortable: true,\n              },\n              {\n                name: 'Unitario',\n                selector: 'unit',\n                sortable: true,\n              },\n              {\n                name: 'Importe',\n                selector: 'import',\n                sortable: true,\n              },\n              {\n                name: 'Acciones',\n                selector: 'actions',\n                ignoreRowClick: true,\n                cell: row => {\n                    return(\n                        <div>\n                            <button className=\"btn btn-primary py-1 px-2 btn-action\" onClick={this.handleEventClickSubtractFoodOrderDescription.bind(this,row.actions)}>\n                                <span className=\"icon icon-minus\"></span>\n                            </button>\n                            <button className=\"btn btn-primary py-1 px-2 btn-action\" onClick={this.handleEventClickDeleteFoodOrderDescription.bind(this,row.actions)}>\n                                <span className=\"icon icon-trash\"></span>\n                            </button>\n                        </div>\n                    )\n                }\n\n              },\n            ]\n        }\n        this.getProductGrid = this.getProductGrid.bind(this)\n        this.getDiningTableOrder = this.getDiningTableOrder.bind(this)\n        this.getFoodOrderDescription = this.getFoodOrderDescription.bind(this)\n        this.confirmCloseFoodOrder = this.confirmCloseFoodOrder.bind(this)\n        this.closeFoodOrder = this.closeFoodOrder.bind(this)\n    }\n\n    componentDidMount() {\n\n    }\n\n    handleEventClickSubtractFoodOrderDescription(values) {\n        fetch(`${ENV.API_ROUTE}delete`, {\n            method: \"post\",\n            cors: \"cors\",\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                table: \"food_order_descriptions\",\n                where: `food_order_id = ${values.idFoodOrder} AND product_id = ${values.idProduct}`,\n                orderBy: \"id DESC\",\n                limit: \"1\"\n            })\n        })\n        .then(response => {return response.json()})\n        .then(res => {\n            if (res.status != 200)\n                return \"Error\"\n            this.getFoodOrderDescription()\n        })\n    }\n\n    handleEventClickDeleteFoodOrderDescription(values) {\n        fetch(`${ENV.API_ROUTE}delete`, {\n            method: \"post\",\n            cors: \"cors\",\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                table: \"food_order_descriptions\",\n                where: `food_order_id = ${values.idFoodOrder} AND product_id = ${values.idProduct}`\n            })\n        })\n        .then(response => {return response.json()})\n        .then(res => {\n            if (res.status != 200)\n                return \"Error\"\n            this.getFoodOrderDescription()\n        })\n    }\n\n    resetFoodOrder() {\n        this.setState({\n            foodOrder: {},\n            foodOrderDesciption: []\n        })\n    }\n\n    getFoodOrderDescription() {\n        this.state.foodOrder.total = 0\n        fetch(`${ENV.API_ROUTE}get`, {\n            method: \"post\",\n            cors: \"cors\",\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                table: \"food_order_descriptions\",\n                columns: \"id_product, product_name, SUM(quantity) quantity, price, SUM(total) total\",\n                where: `id_food_order = ${this.state.foodOrder.id_food_order}`,\n                groupBy: \"id_product, product_name, price\"\n            })\n        })\n        .then(response => {return response.json()})\n        .then(res => {\n            if (res.status != 200)\n                return \"Error\"\n            let foodOrderDesciption = res.data.map(\n                item => {\n                    this.state.foodOrder.total += item.total\n                    return({\n                        name: item.product_name,\n                        quantity: item.quantity,\n                        unit: item.price,\n                        import: item.total,\n                        actions: {idFoodOrder:this.state.foodOrder.id_food_order, idProduct: item.id_product}\n                    })\n                }\n            )\n            this.setState({foodOrderDesciption:foodOrderDesciption})\n        })\n    }\n\n    getDiningTableOrder(idDiningTable) {\n        //event.preventDefault()\n        this.resetFoodOrder()\n        fetch(`${ENV.API_ROUTE}get/foodOrder`, {\n            method: \"post\",\n            cors: \"cors\",\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                id: idDiningTable\n            })\n        })\n        .then(response => {return response.json()})\n        .then(res => {\n            if (res.status != 200)\n                return \"Error\"\n            let foodOrder = res.data.food_order[0]\n            this.setState({foodOrder:foodOrder})\n            this.getFoodOrderDescription()\n        })\n    }\n\n    addProductToFoodOrder(id_product) {\n        fetch(`${ENV.API_ROUTE}add/foodOrder`, {\n            method: \"post\",\n            cors: \"cors\",\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                id: this.state.foodOrder.id_food_order,\n                id_product:id_product\n            })\n        })\n        .then(response => {return response.json()})\n        .then(res => {\n            if (res.status != 200)\n                return \"Error\"\n            this.getFoodOrderDescription()\n        })\n    }\n\n    getProductGrid() {\n        //event.preventDefault()\n        fetch(`${ENV.API_ROUTE}get`, {\n            method: \"post\",\n            cors: \"cors\",\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                table: \"product\",\n                where: \"status = 1\"\n            })\n        })\n        .then(response => {return response.json()})\n        .then(res => {\n            if (res.status != 200)\n                return \"Error\"\n                let productGrid = res.data.map(item => {\n                    return(\n                        <div key={\"product_\"+item.id_product} className=\"col-12 col-sm-6 col-md-4 text-center container-grid\" onClick={this.addProductToFoodOrder.bind(this, item.id_product)}>\n                            <img src={ENV.API_FILES_ROUTE+item.image_url} className=\"rounded img-product\"/>\n                            <br/>\n                            <span className=\"span-table-number\"><b>{item.name}</b></span>\n                        </div>\n                    )\n                })\n                this.setState({productGrid: productGrid})\n                $(\"#modalManageFoodOrder\").modal(\"show\")\n        })\n    }\n\n    confirmCloseFoodOrder() {\n        $(\"#modalCloseFoodOrder\").modal(\"show\")\n    }\n\n    closeFoodOrder() {\n        fetch(`${ENV.API_ROUTE}update`, {\n            method: \"post\",\n            cors: \"cors\",\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                table: \"food_order\",\n                id: this.state.foodOrder.id_food_order,\n                columns: \"total,status\",\n                values: `${this.state.foodOrder.total},2`,\n                update_at: true\n            })\n        })\n        .then(response => {return response.json()})\n        .then(res => {\n            if (res.status != 200)\n                return \"Error\"\n            this.getFoodOrderDescription()\n            $(\"#modalCloseFoodOrder\").modal(\"hide\")\n            $(\"#modalManageFoodOrder\").modal(\"hide\")\n        })\n    }\n\n    render() {\n        return (\n            <React.Fragment>\n                <div className=\"modal fade\" id=\"modalManageFoodOrder\" tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"modalManageFoodOrder\" aria-hidden=\"true\">\n                    <div className=\"modal-dialog modal-xl\" role=\"document\">\n                        <div className=\"modal-content\">\n                            <div className=\"modal-header\">\n                                <div className=\"col-6 col-md-3\">\n                                    <h5 className=\"modal-title\" id=\"exampleModalLongTitle\">\n                                        Mesa {this.state.foodOrder.number}, Orden: #{this.state.foodOrder.id_food_order}\n                                    </h5>\n                                </div>\n                                <div className=\"col-5 col-md-3\">\n                                    <h5 className=\"modal-title text-right\" id=\"exampleModalLongTitle\">\n                                        <b>Total: ${this.state.foodOrder.total}</b>\n                                    </h5>\n                                </div>\n                                <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                                    <span aria-hidden=\"true\">&times;</span>\n                                </button>\n                            </div>\n                            <div className=\"modal-body\">\n                                <div className=\"row\">\n                                    <div className=\"col-12 text-right\">\n                                        <button type=\"button\" className=\"ml-2  btn btn-primary btn-pay\" onClick={this.confirmCloseFoodOrder}>\n                                            Cobrar\n                                        </button>\n                                    </div>\n                                    <br/>\n                                    <br/>\n                                    <div className=\"col-12 col-md-6\">\n                                        <DataTable\n                                            noHeader={true}\n                                            pagination={true}\n                                            columns={this.state.columns}\n                                            data={this.state.foodOrderDesciption}\n                                            className=\"table\"\n                                            noDataComponent=\"No se encontraron productos\"\n                                        />\n                                    </div>\n                                    <div className=\"product-grid col-12 col-md-6\">\n                                        <div className=\"row\">\n                                            {this.state.productGrid}\n                                        </div>\n\n                                    </div>\n                                </div>\n                            </div>\n                            <div className=\"modal-footer\">\n                                <button type=\"button\" className=\"ml-2 btn btn-white btn-outline-white\" data-dismiss=\"modal\">Cerrar</button>\n                                <button type=\"button\" className=\"ml-2  btn btn-primary btn-pay\" onClick={this.confirmCloseFoodOrder}>\n                                    Cobrar\n                                </button>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div className=\"modal\" id=\"modalCloseFoodOrder\" tabIndex=\"-1\" role=\"dialog\">\n                    <div className=\"modal-dialog\" role=\"document\">\n                        <div className=\"modal-content\">\n                            <div className=\"modal-header\">\n                                <h5 className=\"modal-title\">¿Desea cerrar la Orden: #{this.state.foodOrder.id_food_order}?</h5>\n                                <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                                    <span aria-hidden=\"true\">&times;</span>\n                                </button>\n                            </div>\n                            <div className=\"modal-body\">\n                                <h1 className=\"title-brackground-white text-center\">Total de orden:</h1>\n                                <h1 className=\"title-brackground-white text-center\">${this.state.foodOrder.total}</h1>\n                            </div>\n                            <div className=\"modal-footer\">\n                                <button type=\"button\" className=\"ml-2 btn btn-white btn-outline-white\" data-dismiss=\"modal\">Cerrar</button>\n                                <button type=\"button\" className=\"ml-2  btn btn-primary\" onClick={this.closeFoodOrder}>Confirmar</button>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </React.Fragment>\n        )\n    }\n}\n\nexport default ManageFoodOrder;\n"]},"metadata":{},"sourceType":"module"}